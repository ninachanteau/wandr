function loadTransportations(innerHTML) {
  const wrapper = document.querySelector('.wrapper');
  wrapper.innerHTML = innerHTML;
  // reload forms wepback script
  const head = document.querySelector("head");
  const scriptElement = document.createElement('script');
  scriptElement.src = '<%= javascript_pack_tag "forms" %>'.match(/src="(.*)">/)[1];
  head.appendChild(scriptElement);
};

function changeTitle(title) {
  const navbarTitle = document.querySelector('.navbar-title');
  if (navbarTitle) {
    navbarTitle.innerHTML = title;
  }
}

changeTitle('<%= j render "shared/navbar_title", trip: @trip, icon: "plane" %>');
loadTransportations(`'<%= j render "index", transportations: @transportations, trip_participants: @trip_participants, trip: @trip, transportation: @transportation, participation: @participation, trip_dates: @trip_dates, my_transportations: @my_transportations, avatar: @avatar %>'`);

function removeNotification() {
  const notification = document.getElementById('transportations-notif');
  if (notification) {
    notification.remove();
  }
}

removeNotification();
